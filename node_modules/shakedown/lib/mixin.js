export default function mixin(dest, source) {
    // summary:
    //      Recursively mix the properties of two objects

    if (typeof dest !== 'object' || typeof source !== 'object') return dest;

    for (var name in source) {
        if( ! (name in dest)){
            dest[name] = source[name];
            continue;
        }
        if (dest[name] != source[name]){
            if ( source[name].constructor==Object ) {
                dest[name] = mixin(dest[name], source[name]);
            } else if (Array.isArray(dest[name]) && Array.isArray(source[name])){
                // Concat arrays, rather than overwrite
                dest[name] = dest[name].concat(source[name]);
            } else {
                dest[name] = source[name];
            }
        }
    }
    return dest;
}
