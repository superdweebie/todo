import frisk from 'sd/frisk/frisk';
import log from 'sd/log';
import loadConfig from 'sd/server/config';

export function start(paths, callback){

    callback = callback || function(){};

    loadConfig(paths, function(err, config){
        if (err) {log(err); callback(err); return;}

        log('Starting ' + config.app);
        frisk(config, function(err, frisker){
            if (err) {log(err); callback(err); return;}
            callback();
        })
    });
//    callback();

//
//    loadConfig(path, function(err, config){
//        if (err) {log(err); callback(err); return;}
//
//        console.log(config);
//        callback();
////        var parallel = new Parallel;
////        startWatchers(config.paths, parallel.add());
////        startServer(config, parallel.add());
////        parallel.then(function(err){
////            callback(err)
////        })
//    })
}
