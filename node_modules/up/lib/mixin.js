var mixin = (...objs) => {
    // summary:
    //      Recursively mix the properties an array of objects, from left right

    return (function doMix(result, index){
        if (index > objs.length - 1) return result

        var source = objs[index];
        Object.keys(source).forEach((key) => {
            if (! (key in result)){
                result[key] = source[key];
                return;
            }
            if (result[key] != source[key]){
                if (Array.isArray(result[key]) && Array.isArray(source[key])){
                    // Concat arrays, rather than overwrite
                    result[key] = result[key].concat(source[key]);
                } else if (typeof result[key] == 'object'){
                    result[key] = mixin(result[key], source[key]);
                } else {
                    result[key] = source[key];
                }
            }
        })

        return doMix(result, index + 1);
    })({}, 0);
}

export default mixin;