import {isBrowser} from 'up/env';

var fs = System.require('fs');

var browser = (mid) => {
    //TODO: load text file via websockets
};

var node = (mid) => {
    //load text file using node fs
    //returns a thunk
    return (callback) => {
        fs.readFile(
            System.locate({name: mid}).slice(0, -3),
            (err, data) => {
                if (err) throw err;
                callback(data.toString());
            }
        )
    }
};

export default isBrowser ? browser : node;
